<!-- XXX: Needs more testing -->
<ruleset name="GoogleServices" match_rule="http:.*google">

  <rule from="^http://spreadsheets\.google\.com/" to="https://spreadsheets.google.com/"/>
  <rule from="^http://docs\.google\.com/" to="https://docs.google.com/"/>
  <rule from="^http://groups\.google\.com/" to="https://groups.google.com/"/>
  <rule from="^http://mail\.google\.com/" to="https://mail.google.com/"/>
  <rule from="^http://(www\.)?gmail\.com/" 
          to="https://mail.google.com/"/>
  <rule from="^http://(www\.)?google\.com/reader/" 
          to="https://www.google.com/reader/"/>
  <rule from="^http://code\.google\.com/" to="https://code.google.com/"/>
  <rule from="^http://sites\.google\.com/" to="https://sites.google.com/"/>

  <rule from="^http://(www\.)?google((\.com?)?(\.[^/@:][^/@:])?)/calendar"
          to="https://www.google$2/calendar" />

  <rule from="^http://(www\.)?google((\.com?)?(\.[^/@:][^/@:])?)/products"
          to="https://www.google$2/products" />

  <rule from="^http://news\.google((\.com?)?(\.[^/@:][^/@:])?)/"
          to="https://news.google$1/" />

  <rule from="^http://www.googlecode.com/$"
          to="https://code.google.com/" />
  <rule from="^http://([^/:@]*)\.googlecode.com/$"
          to="https://code.google.com/p/$1/" />
  <rule from="^http://([^/:@]*)\.googlecode.com/(.+)"
          to="https://$1.googlecode.com/$2" />

  <rule from="^http://www\.google\.com/cse/intl/([^/:@][^/:@])/images/google_custom_search_watermark.gif$" to="https://www.google.com/cse/intl/$1/images/google_custom_search_watermark.gif" />

</ruleset>
